# FlutterPOS Release v1.1.3+31

**Release Date:** February 22, 2026  
**APK File:** `FlutterPOS-v1.1.3-build31.apk` (92.7 MB)  
**Git Tag:** `v1.1.3+31`

## Summary

Major UI improvements with focus on tablet responsiveness and component refinement. This release introduces comprehensive scaling for smaller devices while maintaining desktop-quality presentation.

## Features

✅ **Responsive Lock Screen (NEW)**
- Dynamic UI scaling based on screen size
- Optimized for 8-inch tablets and above
- Proportional font sizes and component spacing
- Adaptive width calculation for different screen densities
- Single-scroll layout prevents overflow on small screens

✅ **Printer Management Redesign (ENHANCED)**
- Split-panel architecture (left: list/search, right: configuration)
- Kitchen and bar printer category support
- Inline printer configuration editing
- Connection type indicators (network, USB, Bluetooth, POSMAC)
- Real-time printer status display

✅ **Receipt Designer Improvements (FIXED)**
- Complete state initialization restoration
- Live ESCPOS preview rendering
- Persistent template configuration
- Logo, barcode, and QR code customization

## Technical Improvements

### Build Configuration
- ✅ Android ProGuard minification rules configured
- ✅ R8 code shrinking enabled with plugin keep rules
- ✅ Missing Android theme styles added (AppTheme, ThemeTransparent)
- ✅ Optimized font tree-shaking (98.2% reduction)

### Code Quality
- ✅ Fixed 11 Dart compilation errors
- ✅ Resolved import conflicts (Category type ambiguity)
- ✅ Fixed type safety issues in generic list mapping
- ✅ Corrected method signatures for state consistency

### Android Configuration
- Gradle minification enabled for release builds
- ProGuard rules for flutter_inappwebview_android and flutter_pos_printer_platform
- Style resource inheritance for Material Design compatibility
- Dark mode theme variant support

## UI/UX Enhancements

### Lock Screen
- Dynamic scaling factor calculation based on screen width
- Responsive right panel width (360px fixed → interactive scaling)
- Proportional spacing between UI elements
- Scrollable content area for small screens
- Touch-friendly button sizing

### User Selector
- Adaptive avatar sizing
- Proportional icon scaling
- Responsive dropdown menu positioning
- User role information display

### PIN Entry
- Adaptive indicator dot sizing
- Responsive numpad grid spacing
- Proportional font sizes for numbers
- Scaling icon buttons (submit, delete)

## Installation

### For Testing
```bash
adb install -r releases/FlutterPOS-v1.1.3-build31.apk
```

### Supported Devices
- Android 5.0+ (API 21+)
- Tablets (8-inch minimum recommended)
- Phones (6-inch and above)
- Testing on: Android 11, 12, 13, 14+

## Fixed Issues

| Issue | Status | Resolution |
|-------|--------|-----------|
| Lock screen oversized on 8" tablet | ✅ FIXED | Dynamic scaling implementation |
| Receipt designer undefined state vars | ✅ FIXED | Complete _loadSettings() restoration |
| Printer management import conflict | ✅ FIXED | Added `hide Category` to import |
| Type safety in category mapping | ✅ FIXED | Explicit `<Widget>` type annotation |
| Android AAPT linking errors | ✅ FIXED | Added missing theme resources |
| R8 minification failures | ✅ FIXED | ProGuard rules for plugins |
| TextField method signature mismatch | ✅ FIXED | Named parameter conversion |

## Performance

- APK Size: 92.7 MB (92.66 MB)
- Build Time: 491.2 seconds (clean)
- Font Assets: 30 KB (from 1.6 MB via tree-shaking)
- Minification: Enabled (R8 aggressive shrinking)

## Testing Checklist

- [ ] Launch on 7-8" tablet (primary target)
- [ ] Verify lock screen proportions
- [ ] Test user selection dropdown
- [ ] Validate PIN entry responsiveness
- [ ] Check printer management split-panel layout
- [ ] Test receipt designer live preview
- [ ] Verify category assignment for kitchen/bar printers
- [ ] Test on portrait and landscape orientations

## Known Limitations

- Windows ephemeral symlink cleanup (permission issue) - non-blocking
- iOS/macOS builds require Xcode 15.4+ (Android focus for this version)

## Changelog

### Code Changes
- **lib/screens/lock_screen.dart:** Complete responsive redesign with GridView adaptive scaling
- **lib/screens/printers_management_screen.dart:** New split-panel UI with category support
- **lib/screens/receipt_designer_screen.dart:** State restoration and method signature fixes
- **lib/screens/first_admin_setup_screen.dart:** Minor UI improvements
- **android/app/build.gradle.kts:** MinifyEnabled and ProGuard configuration
- **android/app/proguard-rules.pro:** New file with plugin keep rules
- **android/app/src/main/res/values/styles.xml:** Added AppTheme and ThemeTransparent
- **android/app/src/main/res/values-night/styles.xml:** Dark variant theme additions
- **pubspec.yaml:** Version bumped to 1.1.3+31

### Git Commit
```
2077c91 - v1.1.3+31: Responsive lock screen, printer management redesign, receipt designer fixes, Android ProGuard config
```

## Deployment Notes

### Pre-Deployment
- ✅ All tests passing (Dart compilation, Android build)
- ✅ APK size within acceptable limits
- ✅ No runtime errors in Dart analysis

### Post-Deployment
- Monitor for tablet-specific layout issues
- Validate printer management workflow on actual hardware
- Test receipt designer with various template configurations

## Support & Feedback

For issues or feature requests related to this release:
1. Verify on latest version
2. Check GitHub issues
3. Contact development team with device specifications

## Links

- **Repository:** https://github.com/SleepyTurtle91/extropos
- **Git Commit:** 2077c91
- **Git Tag:** v1.1.3+31
- **Branch:** main

---

*Last Updated: February 22, 2026*
*Release Manager: GitHub Copilot - FlutterPOS Build System*
